<div class="vudash-health">
  <div class="value">
    <svg width="34%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 170.71 156.07">
      <path ref:heart d="M156.07,14.64a50,50,0,0,0-70.71,0A50,50,0,0,0,14.64,85.36l70.71,70.71,70.71-70.71A50,50,0,0,0,156.07,14.64Z"/>
    </svg>
  </div>
  <div class="label">
    Health
  </div>
</div>

<style>
  .vudash-health > * {
    text-align: center;
    width: 100%;
  }

  .label {
    position: absolute;
    bottom: 30px;
    font-size: 14px;
    font-weight: bold;
  }

  .value {
    display: block;
  }

  svg {
    padding: 10px;
  }
  
  path {
    fill: transparent; 
    stroke: #ff7bac;  
    stroke-width: 4px;
    stroke-dasharray: 514.2344970703125px;
  }
</style>

<script>
  import TimelineLite from 'gsap/TimelineLite'

  export default {
    oncreate () {
      const el = this.refs.heart
      const tl = new TimelineLite()
      this.set({ tl })

      tl
        .to(el, 0, { 
          fill: 'rgba(0,0,0,0)',
          'stroke-dashoffset': '-514.2344970703125px'
        })
        .to(el, .25, {
          fill: 'rgba(0,0,0,0)'
        })
        .to(el, .25, {
          'stroke-dashoffset': '0'
        })
        .to(el, .25, {
          fill: '#ff7bac'
        })
    },

    methods: {
      update ({ data }) {
        const tl = this.get('tl')
        data.on ? tl.play() : tl.reverse()
      }
    }
  }
</script>