<div class="ci-widget {{ backgroundClass }}">
  <div class="value">
    <img src="{{ ligature }}" alt="" />
  </div>
  <div class="label">
    <span class="ci-user">{{ config.user }}</span> / <span class="ci-repo">{{ config.repo }}</span>
  </div>
</div>

<style>
.ci-widget > * {
  text-align: center;
}

.label {
  position: absolute;
  bottom: 30px;
  font-size: 14px;
  font-weight: bold;
}

@keyframes failed-pulse {
  0% { background-color: #9F14FF; }
  25% { background-color: #E812CD; }
  50% { background-color: #FF2021; }
  75% { background-color: #E85320; }
  100% { background-color: #FF8B12; }
}

.ci-widget.error, .ci-widget.failed {
  background-color: #FF2021;
  animation: failed-pulse 4s infinite alternate;
}

@-webkit-keyframes load8 {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@keyframes load8 {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
</style>

<script>
'use strict'

const icons = {
  passed: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEwMDAgMTAwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz48cGF0aCBmaWxsPSIjNzBiMzdkIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMjBweCIgIGQ9Ik01MDAsMTBjNjYuNiwwLDEzMC4xLDEyLjksMTkwLjUsMzguOEM3NTEsNzQuNyw4MDMsMTA5LjUsODQ2LjgsMTUzLjJjNDMuNyw0My43LDc4LjUsOTUuOCwxMDQuNCwxNTYuM0M5NzcuMSwzNjkuOSw5OTAsNDMzLjQsOTkwLDUwMHMtMTIuOSwxMzAuMS0zOC44LDE5MC41Uzg5MC41LDgwMyw4NDYuOCw4NDYuOFM3NTEsOTI1LjMsNjkwLjUsOTUxLjJTNTY2LjYsOTkwLDUwMCw5OTBzLTEzMC4xLTEyLjktMTkwLjUtMzguOEMyNDksOTI1LjMsMTk3LDg5MC41LDE1My4yLDg0Ni44QzEwOS41LDgwMyw3NC43LDc1MSw0OC44LDY5MC41QzIyLjksNjMwLjEsMTAsNTY2LjYsMTAsNTAwYzAtNjYuNiwxMi45LTEzMC4xLDM4LjgtMTkwLjVDNzQuNywyNDksMTA5LjUsMTk3LDE1My4yLDE1My4yQzE5NywxMDkuNSwyNDksNzQuNywzMDkuNSw0OC44QzM2OS45LDIyLjksNDMzLjQsMTAsNTAwLDEweiBNNTAwLDk5LjFjLTU0LjMsMC0xMDYuMiwxMC42LTE1NS43LDMxLjljLTQ5LjUsMjEuMi05Mi4yLDQ5LjctMTI3LjksODUuNHMtNjQuMiw3OC40LTg1LjQsMTI3LjlDMTA5LjcsMzkzLjgsOTkuMSw0NDUuNyw5OS4xLDUwMHMxMC42LDEwNi4yLDMxLjksMTU1LjdjMjEuMiw0OS41LDQ5LjcsOTIuMiw4NS40LDEyNy45czc4LjQsNjQuMiwxMjcuOSw4NS40YzQ5LjUsMjEuMiwxMDEuNCwzMS45LDE1NS43LDMxLjlzMTA2LjItMTAuNiwxNTUuNy0zMS45YzQ5LjUtMjEuMiw5Mi4yLTQ5LjcsMTI3LjktODUuNGMzNS43LTM1LjcsNjQuMi03OC40LDg1LjQtMTI3LjljMjEuMi00OS41LDMxLjktMTAxLjQsMzEuOS0xNTUuN2MwLTU0LjMtMTAuNi0xMDYuMi0zMS45LTE1NS43Yy0yMS4yLTQ5LjUtNDkuNy05Mi4yLTg1LjQtMTI3LjlzLTc4LjQtNjQuMi0xMjcuOS04NS40QzYwNi4yLDEwOS43LDU1NC4zLDk5LjEsNTAwLDk5LjFMNTAwLDk5LjF6IE02NTAsMzY2YzEyLjMsMCwyMi44LDQuNCwzMS41LDEzLjFzMTMuMSwxOS4yLDEzLjEsMzEuNWMwLDEyLjMtNC40LDIyLjktMTMuMiwzMS43bC0xODksMTg5Yy04LjYsOC42LTE5LDEyLjktMzEuMywxMi45Yy0xMi41LDAtMjMuMS00LjMtMzEuNy0xMi45bC05NC43LTk0LjNjLTguNi04LjYtMTIuOS0xOS4xLTEyLjktMzEuN2MwLTEyLjMsNC40LTIyLjgsMTMuMS0zMS41YzguNy04LjcsMTkuMi0xMy4xLDMxLjUtMTMuMWMxMi4zLDAsMjIuOSw0LjQsMzEuNywxMy4ybDYzLDYzbDE1Ny4zLTE1Ny42QzYyNy4xLDM3MC40LDYzNy43LDM2Niw2NTAsMzY2TDY1MCwzNjZ6Ii8+PC9nPg0KPC9zdmc+DQo=',
  failed: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEwMDAgMTAwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz48cGF0aCBmaWxsPSIjQzIzQjIyIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMjBweCIgIGQ9Ik02NTEuOCwzNDguMWMtMTgtMTgtNDcuMS0xOC02NS4xLDBsLTg2LjgsODYuOGwtODYuOC04Ni44Yy0xOC0xOC00Ny4xLTE4LTY1LjEsMGMtMTgsMTgtMTgsNDcuMSwwLDY1LjFsODYuOCw4Ni44bC04Ni43LDg2LjdjLTE4LDE4LTE4LDQ3LjEsMCw2NS4xYzE4LDE4LDQ3LjEsMTgsNjUuMSwwbDg2LjctODYuN2w4Ni43LDg2LjdjMTgsMTgsNDcuMSwxOCw2NS4xLDBjMTgtMTgsMTgtNDcuMSwwLTY1LjFMNTY1LDQ5OS45bDg2LjgtODYuOEM2NjkuOCwzOTUuMiw2NjkuOCwzNjYsNjUxLjgsMzQ4LjF6IE01MDAsMTBDMjI5LjQsMTAsMTAsMjI5LjQsMTAsNTAwYzAsMjcwLjYsMjE5LjQsNDkwLDQ5MCw0OTBzNDkwLTIxOS40LDQ5MC00OTBDOTkwLDIyOS40LDc3MC42LDEwLDUwMCwxMHogTTUwMCw4OTguMWMtMjE5LjksMC0zOTguMS0xNzguMi0zOTguMS0zOTguMWMwLTIxOS45LDE3OC4yLTM5OC4xLDM5OC4xLTM5OC4xYzIxOS45LDAsMzk4LjEsMTc4LjIsMzk4LjEsMzk4LjFDODk4LjEsNzE5LjksNzE5LjksODk4LjEsNTAwLDg5OC4xeiIvPjwvZz4NCjwvc3ZnPg0K',
  unknown: 'data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjZmZmZmZmIiBmaWxsPSIjM2MzMDJlIiB3aWR0aD0iMTIwcHgiIGhlaWdodD0iMTIwcHgiIHZpZXdCb3g9IjAgMCAzMiAzMiI+Cjx0aXRsZT5ub3RpZmljYXRpb248L3RpdGxlPgo8cGF0aCBkPSJNMTYgM2MtMy40NzIgMC02LjczNyAxLjM1Mi05LjE5MiAzLjgwOHMtMy44MDggNS43Mi0zLjgwOCA5LjE5MmMwIDMuNDcyIDEuMzUyIDYuNzM3IDMuODA4IDkuMTkyczUuNzIgMy44MDggOS4xOTIgMy44MDhjMy40NzIgMCA2LjczNy0xLjM1MiA5LjE5Mi0zLjgwOHMzLjgwOC01LjcyIDMuODA4LTkuMTkyYzAtMy40NzItMS4zNTItNi43MzctMy44MDgtOS4xOTJzLTUuNzItMy44MDgtOS4xOTItMy44MDh6TTE2IDB2MGM4LjgzNyAwIDE2IDcuMTYzIDE2IDE2cy03LjE2MyAxNi0xNiAxNmMtOC44MzcgMC0xNi03LjE2My0xNi0xNnM3LjE2My0xNiAxNi0xNnpNMTQgMjJoNHY0aC00ek0xNCA2aDR2MTJoLTR6Ij48L3BhdGg+Cjwvc3ZnPgo=',
  running: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHdpZHRoPScxMjBweCcgaGVpZ2h0PScxMjBweCcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiIGNsYXNzPSJ1aWwtcmluZy1hbHQiPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJub25lIiBjbGFzcz0iYmsiPjwvcmVjdD48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgc3Ryb2tlPSIjZmZmZmZmIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjQwIiBzdHJva2U9IiMzYzMwMmUiIGZpbGw9Im5vbmUiIHN0cm9rZS13aWR0aD0iNiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJzdHJva2UtZGFzaG9mZnNldCIgZHVyPSIycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGZyb209IjAiIHRvPSI1MDIiPjwvYW5pbWF0ZT48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJzdHJva2UtZGFzaGFycmF5IiBkdXI9IjJzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgdmFsdWVzPSIyMjUuOSAyNS4wOTk5OTk5OTk5OTk5OTQ7MSAyNTA7MjI1LjkgMjUuMDk5OTk5OTk5OTk5OTk0Ij48L2FuaW1hdGU+PC9jaXJjbGU+PC9zdmc+',
  queued: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHdpZHRoPScxMjBweCcgaGVpZ2h0PScxMjBweCcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiIGNsYXNzPSJ1aWwtaG91cmdsYXNzIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0ibm9uZSIgY2xhc3M9ImJrIj48L3JlY3Q+PGc+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTU4LjQsNTEuN2MtMC45LTAuOS0xLjQtMi0xLjQtMi4zczAuNS0wLjQsMS40LTEuNCBDNzAuOCw0My44LDc5LjgsMzAuNSw4MCwxNS41SDcwSDMwSDIwYzAuMiwxNSw5LjIsMjguMSwyMS42LDMyLjNjMC45LDAuOSwxLjQsMS4yLDEuNCwxLjVzLTAuNSwxLjYtMS40LDIuNSBDMjkuMiw1Ni4xLDIwLjIsNjkuNSwyMCw4NS41aDEwaDQwaDEwQzc5LjgsNjkuNSw3MC44LDU1LjksNTguNCw1MS43eiIgY2xhc3M9ImdsYXNzIj48L3BhdGg+PGNsaXBQYXRoIGlkPSJ1aWwtaG91cmdsYXNzLWNsaXAxIj48cmVjdCB4PSIxNSIgeT0iMjAiIHdpZHRoPSI3MCIgaGVpZ2h0PSIyNSIgY2xhc3M9ImNsaXAiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImhlaWdodCIgZnJvbT0iMjUiIHRvPSIwIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgdmFsdWVzPSIyNTswOzAiIGtleVRpbWVzPSIwOzAuNTsxIj48L2FuaW1hdGU+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ieSIgZnJvbT0iMjAiIHRvPSI0NSIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iMjA7NDU7NDUiIGtleVRpbWVzPSIwOzAuNTsxIj48L2FuaW1hdGU+PC9yZWN0PjwvY2xpcFBhdGg+PGNsaXBQYXRoIGlkPSJ1aWwtaG91cmdsYXNzLWNsaXAyIj48cmVjdCB4PSIxNSIgeT0iNTUiIHdpZHRoPSI3MCIgaGVpZ2h0PSIyNSIgY2xhc3M9ImNsaXAiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImhlaWdodCIgZnJvbT0iMCIgdG89IjI1IiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgdmFsdWVzPSIwOzI1OzI1IiBrZXlUaW1lcz0iMDswLjU7MSI+PC9hbmltYXRlPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InkiIGZyb209IjgwIiB0bz0iNTUiIGR1cj0iMXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiB2YWx1ZXM9IjgwOzU1OzU1IiBrZXlUaW1lcz0iMDswLjU7MSI+PC9hbmltYXRlPjwvcmVjdD48L2NsaXBQYXRoPjxwYXRoIGQ9Ik0yOSwyM2MzLjEsMTEuNCwxMS4zLDE5LjUsMjEsMTkuNVM2Ny45LDM0LjQsNzEsMjNIMjl6IiBjbGlwLXBhdGg9InVybCgjdWlsLWhvdXJnbGFzcy1jbGlwMSkiIGZpbGw9IiMzYzMwMmUiIGNsYXNzPSJzYW5kIj48L3BhdGg+PHBhdGggZD0iTTcxLjYsNzhjLTMtMTEuNi0xMS41LTIwLTIxLjUtMjBzLTE4LjUsOC40LTIxLjUsMjBINzEuNnoiIGNsaXAtcGF0aD0idXJsKCN1aWwtaG91cmdsYXNzLWNsaXAyKSIgZmlsbD0iIzNjMzAyZSIgY2xhc3M9InNhbmQiPjwvcGF0aD48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZnJvbT0iMCA1MCA1MCIgdG89IjE4MCA1MCA1MCIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGR1cj0iMXMiIHZhbHVlcz0iMCA1MCA1MDswIDUwIDUwOzE4MCA1MCA1MCIga2V5VGltZXM9IjA7MC43OzEiPjwvYW5pbWF0ZVRyYW5zZm9ybT48L2c+PC9zdmc+'
}

export default {
  methods: {
    update (data) {
      let ligature = icons[data.status]
      let backgroundClass = data.status

      if (data.error) {
        ligature = icons.unknown
        backgroundClass = 'error'
      }

      this.set({ ligature, backgroundClass })
    }
  }
}
</script>